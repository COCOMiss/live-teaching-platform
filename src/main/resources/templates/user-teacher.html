<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <title>首页</title>
    <meta charset="UTF-8">
    <link href="css/bootstrap.css" rel="stylesheet" th:href="@{/css/bootstrap.css}">
    <link href="css/style.css" rel="stylesheet" th:href="@{/css/style.css}">
    <link href="css/video.css" rel="stylesheet" th:href="@{/css/video.css}">
    <link href="css/zhibo.css" rel="stylesheet" th:href="@{/css/zhibo.css}">
    <link href="css/user-left.css" rel="stylesheet" th:href="@{/css/user-left.css}">
    <link href="css/user-right.css" rel="stylesheet" th:href="@{/css/user-right.css}">
</head>
<body>

<!--导航栏-->
<div class="container menu navs">
    <nav class="navbar  navbar-expand-sm navbar-fixed-top navbar-light ">
        <a class="navbar-brand logoBlack" href="index.html" th:href="@{/}"><img src="img/logoBlack.png"></a>

        <ul class="nav navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="index.html" th:href="@{/}"><strong>首页</strong></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="zhibo.html" th:href="@{/live}"><strong>直播教学</strong></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="video.html" th:href="@{/video}"><strong>课程回放</strong></a>
            </li>
        </ul>
        <form class="form-inline my-2 my-lg-0">
            <input aria-label="Search" class="form-control mr-sm-2" placeholder="输入文字..." type="search">
            <button class="btn btn-outline-info my-2 my-sm-0 " type="submit">搜索</button>
        </form>
        <ul class="nav navbar-nav ml-auto user">
            <li class="nav-item">
						<span class="userImg">
							<a href="user.html" th:href="@{/user}"><img src="img/1.jpg"></a>
							<a class="badge badge-danger badge-pill " href="user.html" id="message" th:href="@{/user}">12</a>
						</span>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="user.html" th:href="@{/user}">
                    <strong th:text="${session.loginUserId}">用户名</strong>
                </a>
            </li>
            <li class="nav-item">
                <strong class="nav-link" th:text="${session.loginUserKind}=='student'?'学生':'老师'">学生端</strong>
            </li>
        </ul>
    </nav>

</div>
<!--导航栏-->
<div class="container userPage">
    <div class="row">
        <div class="col-3" id="left-info">
            <div class="left-info">
                <div id="userIcon"><img src="img/1.jpg">
                    <h3 id="user-name" th:text="${session.loginUserId}">用戶名</h3>
                </div>
                <div class="list-group">
                    <a class="list-group-item-action active show" data-toggle="list" href="#"
                       th:href="@{/user/create-live}">
                        直播列表
                    </a>
                    <a class="list-group-item-action" data-toggle="list" href="#" th:href="@{/user/create-live}">
                        创建直播
                    </a>
                    <a class="list-group-item-action" data-toggle="list" href="#" th:href="@{/user/upload-video}">
                        上传回放
                    </a>
                    <a class="list-group-item-action" data-toggle="list" href="#" th:href="@{/logout}">退出当前账号</a>
                </div>
            </div>
        </div>
        <div class="col-9" id="right-info">
            <div class="tab-content">
                <div class="tab-pane fade active show" id="message-content">
                    <div class="container" id="myZhibo">
                        <div class="infoVideo align-items-center" style="height: 530px;margin-bottom: 2%;"
                             th:each="liveVM:${liveViewModelList}">
                            <div class="name" style="padding-top: 2%;">
                                <strong th:text="${liveVM.name}">Div+CSS布局</strong>
                            </div>
                            <div></div>
                            <br/>
                            <p>
                                课程：<span class="class-category" th:text="${liveVM.course.name}">网页制作</span>
                            </p>
                            <p>
                                专业：<span th:text="${liveVM.major.name}">软件工程</span>
                            </p>
                            <p>
                                年级：<span th:text="${liveVM.grade}">2016</span>
                            </p>
                            <p>
                                直播日期：<span th:text="${#dates.format(liveVM.date, 'yyyy-MM-dd')}">2016/6/6</span>
                            </p>
                            <p>
                                开始时间：<span th:text="${liveVM.startTime}">19:00-20:00</span>
                            </p>
                            <p>
                                直播长度：<span th:text="${liveVM.length}">60 分钟</span>
                            </p>
                            <p>
                                推流地址：<span th:text="${liveVM.pushUrl}">rtmp://127.0.0.1/live/2</span>
                            </p>
                            <p>
                                推流密钥：<span th:text="${liveVM.id}">7a20dc3a-b3fd-4ef1-95b5-89ad44dd6c6c</span>
                            </p>
                            <form method="post" style="float: right; margin-right: 50px;"
                                  th:action="@{/live/}+${liveVM.id}">
                                <input hidden name="_method" value="delete"/>
                                <button class="btn btn-danger" type="submit">结束直播</button>
                                <a class=" btn ml-auto " href="#"
                                   th:href="@{/live/}+${liveVM.teacher.id}+@{/}+${liveVM.id}">进入直播</a>
                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>